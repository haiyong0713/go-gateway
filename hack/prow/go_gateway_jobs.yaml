periodics:
  - interval: 30m
    cluster: jsy
    name: periodics-go-gateway-label-sync
    spec:
      containers:
        - image: hub.bilibili.co/k8s-prow/label-sync:v20190612150901-aeadf92cc-dirty
          args:
          - --id=$(BUILD_ID)
          - --job=$(JOB_NAME)
          - --root=/root
          - --repo=git.bilibili.co/platform/go-gateway
          - --command
          - make
          - label-update
          imagePullPolicy: IfNotPresent
          volumeMounts:
            - name: oauth
              mountPath: /etc/gitlab
              readOnly: true
      volumes:
        - name: oauth
          secret:
            secretName: gitlab-oauth-token


presubmits:
  platform/go-gateway:
    - name: go-gateway-prow-lint
      always_run: true
      cluster: jsy
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-prow.sh
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-changelog-lint
      always_run: true
      cluster: jsy
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-changelog.sh
    - name: go-gateway-security-lint
      always_run: true
      cluster: jsy
      optional: true
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            env:
              - name: SECURITY_APPKEY
                valueFrom:
                  secretKeyRef:
                    name: security-lint-key
                    key: SECURITY_APPKEY
              - name: SECURITY_SECRET
                valueFrom:
                  secretKeyRef:
                    name: security-lint-key
                    key: SECURITY_SECRET
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-security.sh
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-mod-changed-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - mod/changed
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-mod-dep.sh
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - new-project/api-gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/api-gateway
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-api-manager-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/api-gateway/api-manager
      untrusted_labels:
        - new-project/api-gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/api-gateway/api-manager
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-api-manager-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/api-gateway/api-manager
      untrusted_labels:
        - new-project/api-gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/api-gateway/api-manager
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-api-manager-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/api-gateway/api-manager
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/api-gateway/api-manager
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-api-gateway-api-manager-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/api-gateway/api-manager
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/api-gateway/api-manager
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-api-gateway-code-generator-tmpl-tmplFile-server-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/api-gateway/code-generator/tmpl/tmplFile/server/service
      untrusted_labels:
        - new-project/api-gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/api-gateway/code-generator/tmpl/tmplFile/server/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-code-generator-tmpl-tmplFile-server-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/api-gateway/code-generator/tmpl/tmplFile/server/service
      untrusted_labels:
        - new-project/api-gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/api-gateway/code-generator/tmpl/tmplFile/server/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-api-gateway-code-generator-tmpl-tmplFile-server-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/api-gateway/code-generator/tmpl/tmplFile/server/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/api-gateway/code-generator/tmpl/tmplFile/server/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-api-gateway-code-generator-tmpl-tmplFile-server-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/api-gateway/code-generator/tmpl/tmplFile/server/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/api-gateway/code-generator/tmpl/tmplFile/server/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-admin-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-admin/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-admin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-admin-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-admin/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-admin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-admin-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-admin/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-admin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-admin-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-admin/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-admin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-car-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-car/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-car-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-car/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-car-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-car/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-car-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-car/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-car-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-car/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-car-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-car/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-car-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-car/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-car-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-car/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-car/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-channel-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-channel/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-channel/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-channel-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-channel/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-channel/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-channel-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-channel/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-channel/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-channel-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-channel/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-channel/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-dynamic-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-dynamic/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-dynamic/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-dynamic-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-dynamic/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-dynamic/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-dynamic-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-dynamic/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-dynamic/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-dynamic-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-dynamic/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-dynamic/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-feed-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-feed/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-feed/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-feed/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-feed-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-feed/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-feed-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-feed/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-feed/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-feed/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-feed-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-feed/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-feed-interface-ng-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface-ng
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-feed/interface-ng
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-interface-ng-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface-ng
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-feed/interface-ng
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-interface-ng-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface-ng
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-feed/interface-ng
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-feed-interface-ng-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/interface-ng
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-feed/interface-ng
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-feed-ng-clarify-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/ng-clarify-job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-feed/ng-clarify-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-ng-clarify-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/ng-clarify-job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-feed/ng-clarify-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-feed-ng-clarify-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/ng-clarify-job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-feed/ng-clarify-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-feed-ng-clarify-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-feed/ng-clarify-job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-feed/ng-clarify-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-free-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-free/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-free-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-free/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-free-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-free/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-free-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-free/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-free-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-free/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-free-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-free/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-free-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-free/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-free-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-free/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-free/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-gw-baas-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/baas
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-gw/baas
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-baas-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/baas
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-gw/baas
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-baas-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/baas
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-gw/baas
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-gw-baas-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/baas
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-gw/baas
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-gw-gateway-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/gateway
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-gw/gateway
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-gateway-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/gateway
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-gw/gateway
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-gateway-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/gateway
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-gw/gateway
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-gw-gateway-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/gateway
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-gw/gateway
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-gw-management-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-gw/management
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-management-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-gw/management
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-management-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-gw/management
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-gw-management-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-gw/management
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-gw-management-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management-job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-gw/management-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-management-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management-job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-gw/management-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-management-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management-job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-gw/management-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-gw-management-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/management-job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-gw/management-job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-gw-peat-moss-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/peat-moss
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-gw/peat-moss
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-peat-moss-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/peat-moss
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-gw/peat-moss
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-gw-peat-moss-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/peat-moss
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-gw/peat-moss
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-gw-peat-moss-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-gw/peat-moss
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-gw/peat-moss
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-interface-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-interface/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-interface/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-interface-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-interface/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-interface/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-interface-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-interface/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-interface/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-interface-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-interface/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-interface/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-intl-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-intl/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-intl/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-intl-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-intl/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-intl/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-intl-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-intl/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-intl/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-intl-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-intl/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-intl/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-job-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-job/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-job/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-job-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-job/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-job/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-job-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-job/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-job/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-job-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-job/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-job/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-player-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-player-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-player-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-player-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-player-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-player/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-player-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-player/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-player-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-player/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-player-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-player/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-player/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-resource-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-resource/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-resource/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-resource-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-resource/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-resource/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-resource-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-resource/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-resource/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-resource-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-resource/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-resource/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-show-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-show/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-show-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-show/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-show-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-show/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-show-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-show/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-thirdsdk-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-thirdsdk/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-thirdsdk/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-thirdsdk-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-thirdsdk/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-thirdsdk/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-thirdsdk-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-thirdsdk/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-thirdsdk/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-thirdsdk-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-thirdsdk/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-thirdsdk/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-view-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-view/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-view/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-view-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-view/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-view/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-view-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-view/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-view/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-view-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-view/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-view/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-wall-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-wall/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-wall-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-wall/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-wall-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-wall/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-wall-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-wall/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-wall-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/app-wall/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-wall-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/app-wall/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-app-wall-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/app-wall/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-app-wall-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/app-wall/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/app-wall/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-honor-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-honor/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive-honor/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-honor-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-honor/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive-honor/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-honor-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-honor/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive-honor/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-honor-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-honor/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive-honor/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-inspect-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-inspect/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive-inspect/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-inspect-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-inspect/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive-inspect/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-inspect-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-inspect/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive-inspect/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-inspect-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-inspect/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive-inspect/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-push-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-push/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive-push/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-push-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-push/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive-push/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-push-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-push/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive-push/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-push-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-push/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive-push/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-archive-shjd-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-shjd/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/archive-shjd/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-shjd-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-shjd/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/archive-shjd/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-archive-shjd-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-shjd/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/archive-shjd/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-archive-shjd-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/archive-shjd/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/archive-shjd/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-distribution-distribution-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/distribution/distribution
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/distribution/distribution
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-distribution-distribution-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/distribution/distribution
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/distribution/distribution
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-distribution-distribution-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/distribution/distribution
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/distribution/distribution
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-distribution-distribution-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/distribution/distribution
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/distribution/distribution
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-fawkes-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/fawkes/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-fawkes-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/fawkes/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-fawkes-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/fawkes/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-fawkes-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/fawkes/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-fawkes-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/fawkes/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-fawkes-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/fawkes/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-fawkes-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/fawkes/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-fawkes-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/fawkes/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/fawkes/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-feature-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/feature/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/feature/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-feature-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/feature/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/feature/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-feature-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/feature/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/feature/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-feature-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/feature/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/feature/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-hkt-note-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/hkt-note/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/hkt-note/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/hkt-note/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-hkt-note-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/hkt-note/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-hkt-note-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/hkt-note/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/hkt-note/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/hkt-note/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-hkt-note-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/hkt-note/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-hkt-note-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/hkt-note/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/hkt-note/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-hkt-note-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/hkt-note/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-hkt-note-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/hkt-note/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/hkt-note/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-kvo-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/kvo/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-kvo-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/kvo/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-kvo-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/kvo/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-kvo-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/kvo/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-kvo-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/kvo/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-kvo-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/kvo/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-kvo-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/kvo/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-kvo-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/kvo/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/kvo/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-macross-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/macross/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/macross/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-macross-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/macross/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/macross/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-macross-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/macross/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/macross/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-macross-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/macross/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/macross/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-misaka-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/misaka/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/misaka/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-misaka-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/misaka/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/misaka/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-misaka-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/misaka/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/misaka/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-misaka-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/misaka/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/misaka/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-native-act-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/native-act/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/native-act/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-native-act-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/native-act/interface
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/native-act/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-native-act-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/native-act/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/native-act/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-native-act-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/native-act/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/native-act/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-ott-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ott/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/ott/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ott-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ott/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/ott/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ott-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ott/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/ott/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-ott-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ott/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/ott/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-playurl-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/playurl/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/playurl/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-playurl-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/playurl/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/playurl/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-playurl-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/playurl/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/playurl/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-playurl-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/playurl/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/playurl/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-resource-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/resource/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-resource-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/resource/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-resource-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/resource/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-resource-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/resource/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-resource-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/resource/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-resource-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/resource/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-resource-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/resource/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-resource-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/resource/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/resource/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-siri-ext-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/siri-ext/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/siri-ext/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-siri-ext-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/siri-ext/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/siri-ext/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-siri-ext-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/siri-ext/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/siri-ext/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-siri-ext-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/siri-ext/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/siri-ext/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-stat-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/stat/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/stat/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-stat-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/stat/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/stat/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-stat-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/stat/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/stat/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-stat-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/stat/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/stat/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-steins-gate-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/steins-gate/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/admin
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/steins-gate/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/steins-gate/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-steins-gate-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/steins-gate/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-steins-gate-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/steins-gate/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/steins-gate/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/steins-gate/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-steins-gate-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/steins-gate/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-steins-gate-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/steins-gate/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/steins-gate/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-steins-gate-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/steins-gate/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-steins-gate-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/steins-gate/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/steins-gate/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-ugc-season-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/ugc-season/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ugc-season-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/ugc-season/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ugc-season-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/ugc-season/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-ugc-season-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/ugc-season/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-ugc-season-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/ugc-season/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ugc-season-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/ugc-season/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-ugc-season-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/ugc-season/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-ugc-season-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/ugc-season/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/ugc-season/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-up-archive-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/up-archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-up-archive-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/job
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/up-archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-up-archive-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/up-archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-up-archive-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/up-archive/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-up-archive-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/app-svr/up-archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-up-archive-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/service
      untrusted_labels:
        - new-project/app-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/app-svr/up-archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-app-svr-up-archive-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/app-svr/up-archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-app-svr-up-archive-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/app-svr/up-archive/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/app-svr/up-archive/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/activity/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/activity/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/activity/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-activity-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/activity/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-activity-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/activity/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/activity/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/activity/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-activity-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/activity/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-activity-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/activity/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/activity/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-activity-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/activity/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-activity-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/activity/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/activity/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-appstatic-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/appstatic/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-appstatic-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/appstatic/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-appstatic-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/appstatic/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-appstatic-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/appstatic/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-appstatic-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/appstatic/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-appstatic-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/appstatic/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-appstatic-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/appstatic/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-appstatic-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/appstatic/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/appstatic/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-dance-taiko-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/dance-taiko/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dance-taiko-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/dance-taiko/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dance-taiko-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/dance-taiko/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-dance-taiko-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/dance-taiko/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-dance-taiko-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/dance-taiko/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dance-taiko-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/dance-taiko/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dance-taiko-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/dance-taiko/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-dance-taiko-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dance-taiko/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/dance-taiko/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-datasource-ng-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/datasource-ng/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-datasource-ng-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/datasource-ng/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-datasource-ng-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/datasource-ng/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-datasource-ng-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/datasource-ng/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-datasource-ng-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/datasource-ng/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-datasource-ng-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/datasource-ng/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-datasource-ng-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/datasource-ng/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-datasource-ng-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/datasource-ng/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/datasource-ng/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-dynamic-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dynamic/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/dynamic/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dynamic-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dynamic/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/dynamic/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-dynamic-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/dynamic/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/dynamic/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-dynamic-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/dynamic/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/dynamic/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-esports-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/esports/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/esports/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/esports/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-esports-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/esports/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-esports-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/esports/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/esports/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/esports/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-esports-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/esports/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-esports-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/esports/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/esports/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/esports/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-esports-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/esports/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-esports-service-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/esports/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-service-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/service
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/esports/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-esports-service-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/service
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/esports/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-esports-service-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/esports/service
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/esports/service
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-native-page-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/native-page/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/native-page/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/native-page/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-native-page-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/native-page/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-native-page-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/native-page/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/native-page/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/native-page/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-native-page-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/native-page/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-native-page-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/native-page/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/native-page/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-native-page-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/native-page/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-native-page-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/native-page/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/native-page/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-player-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/player/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-player-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/player/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-player-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/player/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-player-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/player/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/player/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-playlist-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/playlist/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-playlist-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/playlist/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-playlist-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/playlist/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-playlist-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/playlist/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-playlist-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/playlist/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-playlist-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/playlist/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-playlist-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/playlist/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-playlist-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/playlist/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/playlist/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-space-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/space/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/space/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/space/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-space-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/space/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-space-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/space/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/space/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/space/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-space-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/space/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-space-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/space/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/space/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-space-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/space/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-space-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/space/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/space/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-goblin-admin-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web-goblin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-admin-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/admin
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web-goblin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-admin-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/admin
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web-goblin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-goblin-admin-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/admin
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web-goblin/admin
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-goblin-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web-goblin/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web-goblin/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web-goblin/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-goblin-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web-goblin/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-goblin-job-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web-goblin/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-job-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/job
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web-goblin/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-goblin-job-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/job
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web-goblin/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-goblin-job-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-goblin/job
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web-goblin/job
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-web-svr-web-show-interface-build
      always_run: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-show/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-build.sh
              - app/web-svr/web-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-show-interface-ecode
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-show/interface
      untrusted_labels:
        - new-project/web-svr
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-ecode.sh
              - app/web-svr/web-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
    - name: go-gateway-app-web-svr-web-show-interface-test
      always_run: true
      optional: true
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-show/interface
      spec:
        nodeSelector:
          POOL: "PROW-TEST"
        dnsPolicy: "None"
        dnsConfig:
          nameservers:
            - 172.22.22.53
            - 10.66.22.240
            - 10.68.69.222
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway-test-dind:v20200616150435-43b9ad296-dirty
            securityContext:
              privileged: true
            env:
              - name: UNIT_TEST_ALL
                value: "false"
              - name: DEPLOY_ENV
                value: "uat"
              - name: DOCKER_EXTRA_OPTS
                value: "--config-file=/data/conf/daemon.json"
              - name: PROW_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: gitlab-oauth-token
                    key: oauth
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - ./hack/verify-test.sh
              - app/web-svr/web-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
              - name: utdaemon
                mountPath: /data/conf/daemon.json
                subPath: daemon.json
                readOnly: true
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg
          - name: utdaemon
            configMap:
              name: ut-daemon
    - name: go-gateway-app-web-svr-web-show-interface-code-lint
      always_run: true
      optional: false
      cluster: jsy
      trusted_labels:
        - area/web-svr/web-show/interface
      spec:
        containers:
          - image: hub.bilibili.co/k8s-prow/go-gateway:20210609v1
            imagePullPolicy: IfNotPresent
            args:
              - --id=$(BUILD_ID)
              - --job=$(JOB_NAME)
              - --root=/root/go/src
              - --repo=git.bilibili.co/$(REPO_OWNER)/$(REPO_NAME)=$(PULL_REFS)
              - --command
              - go
              - run
              - ./hack/verify-lint.go
              - app/web-svr/web-show/interface
            volumeMounts:
              - name: modcache
                mountPath: /root/go/pkg
        volumes:
          - name: modcache
            hostPath:
              path: /root/go/pkg

    - name: go-gateway-app-app-svr-app-channel-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-channel/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-dynamic-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-dynamic/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-feed-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-feed/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-interface-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-interface/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-player-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-player/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-resource-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-resource/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-app-view-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/app-view/interface
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-app-svr-archive-service-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/app-svr/archive/service
      untrusted_labels:
        - do-not-merge/work-in-progress
    - name: go-gateway-app-web-svr-web-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      trusted_labels:
        - area/web-svr/web/interface
      untrusted_labels:
        - do-not-merge/work-in-progress

postsubmits:
  platform/go-gateway:
    - name: go-gateway-app-app-svr-app-channel-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-channel/interface
    - name: go-gateway-app-app-svr-app-dynamic-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-dynamic/interface
    - name: go-gateway-app-app-svr-app-feed-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-feed/interface
    - name: go-gateway-app-app-svr-app-interface-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-interface/interface
    - name: go-gateway-app-app-svr-app-player-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-player/interface
    - name: go-gateway-app-app-svr-app-resource-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-resource/interface
    - name: go-gateway-app-app-svr-app-view-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/app-view/interface
    - name: go-gateway-app-app-svr-archive-service-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - app-svr/archive/service
    - name: go-gateway-app-web-svr-web-interface-jenkins-build
      always_run: true
      optional: true
      cluster: jsy
      agent: jenkins
      branches:
        - ^master$
      trusted_labels:
        - web-svr/web/interface